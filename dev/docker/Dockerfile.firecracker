FROM ubuntu:latest

WORKDIR /vm
COPY install-firecracker.sh .

RUN apt-get update && \
    apt-get install -y \
        curl \
        wget \
        unzip \
        jq \
        socat \
        iproute2 \
        iptables \
        iputils-ping \
        linux-headers-generic \
        && rm -rf /var/lib/apt/lists/*   # Reduce image size

RUN ./install-firecracker.sh \
    && rm -f install-firecracker.sh